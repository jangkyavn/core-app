"use strict";var core={configs:{pageSize:10,pageIndex:1},notify:function(n,t){toastr.options={positionClass:"toast-top-center",timeOut:1500};toastr.remove();t==="success"?toastr.success(n):t==="warning"?toastr.warning(n):t==="error"?toastr.error(n):toastr.info(n)},confirm:function(n,t){swal({title:"Thông báo",text:n,icon:"warning",buttons:{cancel:{text:"Không",visible:!0,closeModal:!0},confirm:{text:"Có",visible:!0,closeModal:!1}}}).then(n=>{n&&t(),swal.close()})},getPeriod:function(n){var s=moment(n),h=moment(new Date),i=moment.duration(h.diff(s)),t=parseInt(i.years()),r=parseInt(i.weeks()),u=parseInt(i.weeks()),f=parseInt(i.days()),e=parseInt(i.hours()),o=parseInt(i.minutes()),c=parseInt(i.seconds());return t>0?t+" năm trước":r>0&&t===0?r+" tháng trước":u>0&&r===0&&t===0?u+" tuần trước":f>0&&u===0&&r===0&&t===0?f+" ngày trước":e>0&&f===0&&u===0&&r===0&&t===0?e+" giờ trước":o>0&&e===0&&f===0&&u===0&&r===0&&t===0?o+" phút trước":c>0&&o===0&&e===0&&f===0&&u===0&&r===0&&t===0?"Vài giây trước":"Vừa xong"},dateFormatJson:function(n){if(n===null||n==="")return"";var r=new Date(n),t=r.getMonth()+1,i=r.getDate(),u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),i+"/"+t+"/"+u},dateFormatJson2:function(n){if(n===null||n==="")return"";var r=new Date(n),t=r.getMonth()+1,i=r.getDate(),u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),u+"-"+t+"-"+i},dateTimeFormatJson:function(n){if(n===null||n==="")return"";var t=new Date(parseInt(n.substr(6))),i=t.getMonth()+1,r=t.getDate(),o=t.getFullYear(),u=t.getHours(),f=t.getMinutes(),e=t.getSeconds();return i<10&&(i="0"+i),r<10&&(r="0"+r),u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e),r+"/"+i+"/"+o+" "+u+":"+f+":"+e},getStatus:function(n){return n===1?'<span class="badge badge-success">Kích hoạt<\/span>':'<span class="badge badge-danger">Khoá<\/span>'},getImage:function(n,t){return t!==null&&t!==""?`<img width="60" src="/uploaded/images/${n}/${t}" />`:`<img width="60" src="/uploaded/images/${n==="avatars"?"no-avatar.png":"no-image.png"}" />`},formatNumber:function(n,t){if(n===null||n==="")return"";if(!isFinite(n))return n.toString();var i=n.toFixed(t).split(".");return i[0]=i[0].replace(/\d(?=(\d{3})+$)/g,"$&,"),i.join(".")},makeSeoAlias:function(n){if(n===undefined||n==="")return"";var t=n.toLowerCase();return t=t.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a"),t=t.replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e"),t=t.replace(/i|í|ì|ỉ|ĩ|ị/gi,"i"),t=t.replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o"),t=t.replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u"),t=t.replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y"),t=t.replace(/đ/gi,"d"),t=t.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),t=t.replace(/ /gi,"-"),t=t.replace(/\-\-\-\-\-/gi,"-"),t=t.replace(/\-\-\-\-/gi,"-"),t=t.replace(/\-\-\-/gi,"-"),t=t.replace(/\-\-/gi,"-"),t="@"+t+"@",t.replace(/\@\-|\-\@|\@/gi,"")},callAjax:function(n,t,i,r,u){$.ajax({url:n,type:t,data:i,dataType:r,success:function(n){u(n)},error:function(n,t){console.log(n);console.log(t);core.notify(message.has_error,"error")}})},callAjaxFile:function(n,t,i,r){$.ajax({url:n,type:t,data:i,contentType:!1,processData:!1,success:function(n){r(n)},error:function(n,t){console.log(n);console.log(t);core.notify(message.has_error,"error")}})},unflattern:function(n){for(var t,r={},u=[],i=0;i<n.length;i+=1)t=n[i],t.children=[],r[t.id]=i,t.parentId!==null?n[r[t.parentId]].children.push(t):u.push(t);return u}},message;$(document).ajaxSend(function(n,t,i){if(i.type.toUpperCase()==="POST"||i.type.toUpperCase()==="PUT"){var r=$("form").find("input[name='__RequestVerificationToken']").val();t.setRequestHeader("RequestVerificationToken",r)}});message={change_success:"Thay đổi thành công",update_success:"Cập nhật thành công",add_success:"Thêm mới thành công",edit_success:"Sửa thành công",delete_success:"Xóa thành công",has_error:"Có lỗi xảy ra",confirm_delete:"Bạn có chắc chắn muốn xóa không?",confirm_delete_multiple:"Bạn có chắc chắn muốn xóa các bản ghi đã chọn không?",import_file_success:"Nhập file excel thành công"};