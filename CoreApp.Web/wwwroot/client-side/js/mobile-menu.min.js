!function(n){"use strict";n.fn.mobileMenu=function(t){var i={MenuWidth:250,SlideSpeed:300,WindowsMaxWidth:767,PagePush:!0,FromLeft:!0,Overlay:!0,CollapseMenu:!0,ClassName:"mobile-menu"};return this.each(function(){function w(){1==r.FromLeft?u.css("left",-r.MenuWidth):u.css("right",-r.MenuWidth);u.find("ul:first").addClass(r.ClassName);f=r.ClassName;u.css("width",r.MenuWidth);u.find("."+f+" ul").css("display","none");u.find("li ul").parent().prepend('<span class="expand fa fa-plus"><\/span>');n("."+f).append('<li style="height: 30px;"><\/li>');n("."+f+" li:has(span)").each(function(){n(this).find("a:first").css("padding-right",55)})}function e(){var t=0,i=n(document).height();return u.find("."+f+" > li").each(function(){var i=n(this).height();t+=i}),i>=t&&(t=i),t}function v(t){a=n("."+f+" span.expand").height();1===t&&u.find("."+f+" > li:has(span)").each(function(){var i=n(this).height(),t=(i-a)/2;n(this).find("span").css({"padding-bottom":t,"padding-top":t})});2===t&&u.find("."+f+" > li > ul > li:has(span)").each(function(){var i=n(this).height(),t=(i-a)/2;n(this).find("span").css({"padding-bottom":t,"padding-top":t})})}function b(){l.addClass("mmPushBody");1==r.Overlay?o.addClass("overlay"):o.addClass("overlay").css("opacity",0);u.css({display:"block",overflow:"hidden"});1==r.FromLeft?(1==r.PagePush&&c.animate({left:r.MenuWidth},r.SlideSpeed,"linear"),u.animate({left:"0"},r.SlideSpeed,"linear",function(){u.css("height",e());s=!0})):(1==r.PagePush&&c.animate({left:-r.MenuWidth},r.SlideSpeed,"linear"),u.animate({right:"0"},r.SlideSpeed,"linear",function(){u.css("height",e());s=!0}));y||(v(1),y=!0)}function h(){1==r.FromLeft?(1==r.PagePush&&c.animate({left:"0"},r.SlideSpeed,"linear"),u.animate({left:-r.MenuWidth},r.SlideSpeed,"linear",function(){l.removeClass("mmPushBody");o.css("height",0).removeClass("overlay");u.css("display","none");s=!1})):(1==r.PagePush&&c.animate({left:"0"},r.SlideSpeed,"linear"),u.animate({right:-r.MenuWidth},r.SlideSpeed,"linear",function(){l.removeClass("mmPushBody");o.css("height",0).removeClass("overlay");u.css("display","none");s=!1}))}var r=n.extend({},i,t),u=n(this),o=n("#overlay"),l=n("body"),c=n("#page"),s=!1,y=!1,p=!1,a=0,f="";w();n(".mm-toggle").click(function(){u.css("height",n(document).height());1==r.Overlay&&o.css("height",n(document).height());s?h():b()});n(window).resize(function(){n(window).width()>=r.WindowsMaxWidth&&s&&u.css("left")!=-r.MenuWidth&&h()});n("."+f+" > li > span.expand").click(function(){if(1==r.CollapseMenu){var t=n("."+f+" li span");t.hasClass("open")&&"none"===n(this).next().next().css("display")&&(n("."+f+" li ul").slideUp(),t.hasClass("open")?t.removeClass("fa fa-minus").addClass("fa fa-plus"):t.removeClass("fa fa-plus").addClass("fa fa-minus"),t.removeClass("open"))}n(this).nextAll("."+f+" ul").slideToggle(function(){1==r.CollapseMenu?n(this).promise().done(function(){u.css("height",e())}):u.css("height",e())});n(this).hasClass("fa fa-plus")?n(this).removeClass("fa fa-plus").addClass("fa fa-minus"):n(this).removeClass("fa fa-minus").addClass("fa fa-plus");n(this).toggleClass("open");p||(v(2),p=!0)});n("."+f+" > li > ul > li > span.expand").click(function(){if(1==r.CollapseMenu){var t=n("."+f+" li ul li span");t.hasClass("open")&&"none"===n(this).next().next().css("display")&&(n("."+f+" li ul ul").slideUp(),t.hasClass("open")?t.removeClass("fa fa-minus").addClass("fa fa-plus"):t.removeClass("fa fa-plus").addClass("fa fa-minus"),t.removeClass("open"))}n(this).nextAll("."+f+" ul ul").slideToggle(function(){1==r.CollapseMenu?n(this).promise().done(function(){u.css("height",e())}):u.css("height",e())});n(this).hasClass("fa fa-plus")?n(this).removeClass("fa fa-plus").addClass("fa fa-minus"):n(this).removeClass("fa fa-minus").addClass("fa fa-plus");n(this).toggleClass("open")});n("."+f+" li a").click(function(){n("."+f+" li a").removeClass("active");n(this).addClass("active");h()});o.click(function(){h()});n("."+f+" li a.active").parent().children(".expand").removeClass("fa fa-plus").addClass("fa fa-minus open");n("."+f+" li a.active").parent().children("ul").css("display","block")})}}(jQuery);