(function(n){n.fn.JTV_CountDown=function(t){return this.each(function(){new n.JTV_CountDown(this,t)})};n.JTV_CountDown=function(t,i){if(this.options=n.extend({autoStart:!0,LeadingZero:!0,DisplayFormat:"<div><span>%%D%%<\/span> Days<\/div><div><span>%%H%%<\/span> Hours<\/div><div><span>%%M%%<\/span> Mins<\/div><div><span>%%S%%<\/span> Secs<\/div>",FinishMessage:"Expired",CountActive:!0,TargetDate:null},i||{}),this.options.TargetDate!=null&&this.options.TargetDate!=""){this.timer=null;this.element=t;this.CountStepper=-1;this.CountStepper=Math.ceil(this.CountStepper);this.SetTimeOutPeriod=(Math.abs(this.CountStepper)-1)*1e3+990;var r=new Date(this.options.TargetDate),u=new Date;ddiff=this.CountStepper>0?new Date(u-r):new Date(r-u);gsecs=Math.floor(ddiff.valueOf()/1e3);this.CountBack(gsecs,this)}};n.JTV_CountDown.fn=n.JTV_CountDown.prototype;n.JTV_CountDown.fn.extend=n.JTV_CountDown.extend=n.extend;n.JTV_CountDown.fn.extend({calculateDate:function(n,t,i){var r=(Math.floor(n/t)%i).toString();return this.options.LeadingZero&&r.length<2&&(r="0"+r),"<b>"+r+"<\/b>"},CountBack:function(n,t){if(n<0){t.element.innerHTML='<div class="labelexpired"> '+t.options.FinishMessage+"<\/div>";return}clearInterval(t.timer);DisplayStr=t.options.DisplayFormat.replace(/%%D%%/g,t.calculateDate(n,86400,1e5));DisplayStr=DisplayStr.replace(/%%H%%/g,t.calculateDate(n,3600,24));DisplayStr=DisplayStr.replace(/%%M%%/g,t.calculateDate(n,60,60));DisplayStr=DisplayStr.replace(/%%S%%/g,t.calculateDate(n,1,60));t.element.innerHTML=DisplayStr;t.options.CountActive&&(t.timer=null,t.timer=setTimeout(function(){t.CountBack(n+t.CountStepper,t)},t.SetTimeOutPeriod))}});n(document).on("ready",function(){n('[data-countdown="countdown"]').each(function(){var i=n(this),t=i.data("date").split("-");i.JTV_CountDown({TargetDate:t[0]+"/"+t[1]+"/"+t[2]+" "+t[3]+":"+t[4]+":"+t[5],DisplayFormat:"<div class=\"countdown-times\"><div class=\"day distance\"><div class='number'>%%D%%<\/div> <div class='text'>days <\/div><\/div><div class=\"hours distance\"><div class='number'>%%H%%<\/div><div class='text'> hours <\/div><\/div><div class=\"minutes distance\"><div class='number'>%%M%%<\/div><div class='text'> mins<\/div> <\/div><div class=\"seconds distance\"><div class='number'>%%S%%<\/div> <div class='text'>secs<\/div> <\/div><\/div>",FinishMessage:"Expired"})})})})(jQuery);